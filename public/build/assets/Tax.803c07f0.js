import k from"./Reports.0bc6f3ec.js";import{r as h,d as C,I as x,o as d,c as r,a as m,w as T,b as t,F as _,s as y,t as i,n as V}from"./app.e7e40026.js";import{_ as v,a as Y}from"./Label.8609a721.js";import{h as s}from"./moment.9709ab41.js";import"./Authenticated.2555fad2.js";import"./Button.6b402a14.js";import"./plugin-vue_export-helper.21dcd24c.js";/* empty css            */const I={class:"flex gap-4"},L=["onClick"],S={class:"flex mt-2 gap-4"},A={class:""},$=t("option",{value:"today"},"Today",-1),j=t("option",{value:"yesterday"},"Yesterday",-1),q=t("option",{value:"last_15_days"},"Last 15 days",-1),B=t("option",{value:"last_30_days"},"Last 30 days",-1),F=t("option",{value:"last_60_days"},"Last 60 days",-1),U=t("option",{value:"last_90_days"},"Last 90 days",-1),N=[$,j,q,B,F,U],O=t("br",null,null,-1),z={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},E={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},G=t("th",{scope:"col",class:"px-6 py-3"},"Invoice #",-1),H=t("th",{scope:"col",class:"px-6 py-3"},"Total Amount",-1),J=t("th",{scope:"col",class:"px-6 py-3"},"Taxes Applied",-1),K=t("th",{scope:"col",class:"px-6 py-3"},"Total Tax Amount",-1),P={scope:"row",class:"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"},Q={scope:"row",class:"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"},R={scope:"row",class:"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"},W={scope:"row",class:"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"},X={class:"text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},Z=t("th",{scope:"col",class:"px-6 py-3 font-bold"},null,-1),tt={scope:"col",class:"px-6 py-3 font-bold"},et=t("th",{scope:"col",class:"px-6 py-3"},null,-1),at={scope:"col",class:"px-6 py-3"},mt={__name:"Tax",props:{taxes:Array,data:Object,from:Date,to:Date},setup(p){const{taxes:ot,data:st,from:g,to:D}=p,l=h([]),u=h(g),n=h(D);C(()=>{x.Inertia.get(route(route().current()),{taxes:l.value.map(o=>o.id).join(","),from:u.value,to:n.value},{preserveState:!0})});const w=o=>{const c=l.value.find(e=>e.id==o.id);console.log(c),c?l.value.splice(l.value.indexOf(c),1):l.value.push(o),f()},f=()=>{x.Inertia.get(route(route().current()),{taxes:l.value.map(o=>o.id).join(","),from:u.value,to:n.value},{preserveState:!0})},M=o=>{o=="today"&&(u.value=s().add(-0,"days").format("YYYY-MM-DD"),n.value=s().format("YYYY-MM-DD")),o=="yesterday"&&(u.value=s().add(-1,"days").format("YYYY-MM-DD"),n.value=s().add(-1,"days").format("YYYY-MM-DD")),o=="last_15_days"&&(u.value=s().add(-15,"days").format("YYYY-MM-DD"),n.value=s().format("YYYY-MM-DD")),o=="last_30_days"&&(u.value=s().add(-30,"days").format("YYYY-MM-DD"),n.value=s().format("YYYY-MM-DD")),o=="last_60_days"&&(u.value=s().add(-60,"days").format("YYYY-MM-DD"),n.value=s().format("YYYY-MM-DD")),o=="last_90_days"&&(u.value=s().add(-90,"days").format("YYYY-MM-DD"),n.value=s().format("YYYY-MM-DD")),f()};return(o,c)=>(d(),r("div",null,[m(k,null,{default:T(()=>[t("div",null,[t("ul",I,[(d(!0),r(_,null,y(p.taxes,e=>(d(),r("li",{onClick:a=>w(e),class:V(["px-5 py-2 rounded-full shadow text-sm cursor-pointer",{"text-white bg-blue-500":l.value.find(a=>a.id==e.id),"text-blue-500":!l.value.find(a=>a.id==e.id)}]),key:e},i(e.name),11,L))),128))])]),t("div",S,[t("div",null,[m(v,{for:"from",value:"From"}),m(Y,{onChange:f,modelValue:u.value,"onUpdate:modelValue":c[0]||(c[0]=e=>u.value=e),id:"from",type:"date",class:"mt-1 block w-full",required:"",autofocus:"",autocomplete:"username"},null,8,["modelValue"])]),t("div",null,[m(v,{for:"to",value:"To"}),m(Y,{onChange:f,modelValue:n.value,"onUpdate:modelValue":c[1]||(c[1]=e=>n.value=e),id:"to",type:"date",class:"mt-1 block w-full",required:"",autofocus:"",autocomplete:"username"},null,8,["modelValue"])]),t("div",A,[m(v,{for:"Customer",value:"Customer"}),t("select",{onChange:c[2]||(c[2]=e=>M(e.target.value)),id:"Customer",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",required:"",autocomplete:"current-unit"},N,32)])]),O,t("table",z,[t("thead",E,[t("tr",null,[G,H,J,K,(d(!0),r(_,null,y(l.value,e=>(d(),r("th",{key:e,scope:"col",class:"px-6 py-3"},i(e.name),1))),128))])]),t("tbody",null,[(d(!0),r(_,null,y(p.data.data,e=>(d(),r("tr",{key:e,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},[t("td",P,i(e.id),1),t("td",Q,i(e.total_amount),1),t("td",R,i(e.taxes.map(a=>a.name).toString()),1),t("td",W,i(e.tax_amount),1),(d(!0),r(_,null,y(l.value,a=>(d(),r("th",{key:a,scope:"col",class:"px-6 py-3"},i(e["tax_"+a.id]),1))),128))]))),128))]),t("tfoot",X,[t("tr",null,[Z,t("th",tt,i(p.data.data.reduce((e,a)=>e+a.total_amount,0)),1),et,t("th",at,i(p.data.data.reduce((e,a)=>e+a.tax_amount,0)),1),(d(!0),r(_,null,y(l.value,e=>(d(),r("th",{key:e,scope:"col",class:"px-6 py-3"},i(p.data.data.reduce((a,b)=>a+b["tax_"+e.id],0)),1))),128))])])])]),_:1})]))}};export{mt as default};
